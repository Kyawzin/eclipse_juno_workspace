package com.tanzeelkazi.core;

import java.util.Enumeration;
import java.util.Properties;

public class Validator {
    
    private static Properties _defaults = null;
    public static Properties _options = null;
    
    static {
        
        String key = null;
        
        _defaults = new Properties();
        
        key = "String.NullOrEmptyTrim";
        _defaults.put(key, true);
        
        key = "Email.Regex.RFC822";
        _defaults.put(key, "");
        
        key = "Email.Regex";
        _defaults.put(key, "");
        
        
        _options = new Properties();
        
        Enumeration<Object> keys = _defaults.keys();
        
        while (keys.hasMoreElements()) {
            Object curKey = keys.nextElement(); 
            _options.put(curKey, _defaults.get(curKey));
        }
        
    }
    
    public static boolean isNull(Object value) {
        return (value == null);
    }
    
    public static boolean getNullEmptyTrimByDefault() {
        return (boolean) _options.get("String.NullOrEmptyTrim");
    }
    
    public static void setNullEmptyTrimByDefault(boolean value) {
        _options.put("String.NullOrEmptyTrim", value);
        return;
    }
    
    public static boolean isNullOrEmpty(String value) {
        return isNullOrEmpty(value, getNullEmptyTrimByDefault());
    }
    
    public static boolean isNullOrEmpty(String value, boolean trim) {
        boolean nullOrEmpty = true;
        
        if (isNull(value)) {
            return nullOrEmpty;
        }
        
        if (trim) {
            value = value.trim();
        }
        
        if (value.length() == 0) {
            return nullOrEmpty;
        }
        
        nullOrEmpty = false;
        return nullOrEmpty;
    }
    
    
    
    public static String getDefaultEmailRegex() {
        return (String) _options.get("Email.Regex");
    }
    
    public static void setDefaultEmailRegex(String value) {
        _options.put("Email.Regex", value);
        return;
    }
    
    public static boolean isValidEmail(String value) {
        return isValidEmail(value, getDefaultEmailRegex());
    }
    
    public static boolean isValidEmail(String value, String regex) {
        boolean validEmail = false;
        
        if (isNullOrEmpty(value)) {
            return validEmail;
        }
        
        if (value.matches(regex)) {
            validEmail = true;
        }
        
        return validEmail;
    }
    
    
}
